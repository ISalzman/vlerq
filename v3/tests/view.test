#!/usr/bin/env tclkit
# view command tests

source [file join [file dir [info script]] initests.tcl]

# %renumber<^\s*test >%

test 0 {load extension} {
  package require ratcl
} 3

test 1 {view command exists} -body {
  view
} -returnCodes error -result {wrong # args: should be "view v ... | ..."}

test 2 {} {
  view A vdef {1 2 3} | remap {2 1 2 0}
} {remap {vdef A {1 2 3}} {2 1 2 0}}

test 3 {} {
  view A vdef {1 2 3} | remap {2 1 2 0} | get
} {3 2 3 1}

test 4 {} -body {
  view "" blah
} -returnCodes error -result {blah: no such view operation}

::tcltest::cleanupTests
