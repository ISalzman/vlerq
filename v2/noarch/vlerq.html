
<html>
<!-- generated with Tcl's xmlgen-1.4 xmlgen] -->

 <head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8"></meta>
  <title>Vlerq 1.0</title>
  <style type="text/css"><!-- var {color:#44a} pre {background-color:#eef} -->
  </style>
 </head>
 <body>
  <h3>NAME</h3>
  <blockquote>
   <p><b>Vlerq - Tying Vectors to Relational Algebra</b></p>
  </blockquote>
  <h3>DESCRIPTION</h3>
  <blockquote>
   <p>Vlerq is a research project which explores ways to combine
  a vector-oriented processing model with relational algebra.
   </p>
   <dl>
   </dl>
  </blockquote>
  <h3>COMPONENTS</h3>
  <blockquote>
   <p>Vlerq consists of an ever-evolving set of components and sub-systems,
  because there is not a single <q>vlerq</q> software package but rather
  a range of packages for use in various contexts.
   </p>
   <p>The main subsystems are:
   </p>
   <p>
   <blockquote>
    <table cellspacing="0">
     <tr>
      <td valign="top" nowrap=""><b>Thrive</b></td>
      <td>&nbsp;</td>
      <td>the virtual machine on which everything else is based
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>Thrill</b></td>
      <td>&nbsp;</td>
      <td>this is not really a subsystem but the name of the low-level
	    language layer used in Vlerq
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>Ratcl</b></td>
      <td>&nbsp;</td>
      <td>an extension for using Relational Algebra in Tcl,
	    with more operators and persistence thrown in for free
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>Rasql</b></td>
      <td>&nbsp;</td>
      <td>an SQL translation layer for Ratcl, vaporware mostly
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>Vqx</b></td>
      <td>&nbsp;</td>
      <td>a self-contained executable containing much of the above,
	  but independely of Tcl
      </td>
     </tr>
    </table>
   </blockquote>
   </p>
   <p>There is limited documentation at this stage,
  in the form of manual pages for 
  the <a href="ratcl.html">Ratcl API</a> and 
  the <a href="thrive.html">Thrive VM</a> (both for use from Tcl).
   </p>
  </blockquote>
  <h3>BUILDS</h3>
  <blockquote>
   <p>The first step in building one of a number of Vlerq binaries,
  is to run <q><tt>sh configure</tt></q>.
  This creates a <i>build</i> directory with a <i>Makefile</i> in it.
  You should <i>cd</i> into it and run all make's from there.
  The name of the build directory is not hardwired - you can
  maintain as many variants as you like, as long as builds 
  always take place from a directory next to the original <i>build</i> area,
  i.e. at the same nesting level.
   </p>
   <p>The makefile works on a couple of platorms:
   </p>
   <p>
   <blockquote>
    <table cellspacing="0">
     <tr>
      <td valign="top" nowrap=""><b>Unix</b></td>
      <td>&nbsp;</td>
      <td>as is, at least on Linux
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>Windows</b></td>
      <td>&nbsp;</td>
      <td>do <q><tt>set ARCHSUFFIX=.win32</tt></q> and use <i>mingw</i> with <i>msys</i>
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>Mac OS X</b></td>
      <td>&nbsp;</td>
      <td>do <q><tt>export ARCHSUFFIX=.macosx</tt></q>
      </td>
     </tr>
    </table>
   </blockquote>
   </p>
   <p>There are a number of build targets for <i>make</i>,
  with varying build requirements and dependencies.
  The main ones are:
   </p>
   <p>
   <blockquote>
    <table cellspacing="0">
     <tr>
      <td valign="top" nowrap=""><b>make</b></td>
      <td>&nbsp;</td>
      <td>build vq and runs a minimal test, only requires the C compiler
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>make test</b></td>
      <td>&nbsp;</td>
      <td>build a debug version of the Tcl extension and
		 run the test suite
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>make clean</b></td>
      <td>&nbsp;</td>
      <td>delete all build products and intermediate files
      </td>
     </tr>
    </table>
   </blockquote>
   </p>
   <p>The tests require either <i>tclsh</i> or <i>tclkit</i>, version 8.4 or later.
  Use <q><tt>make test TCL=tclsh</tt></q> if you have tclsh.
   </p>
   <p>When running <i>make</i> with different targets, some of the following
  utilities may have to be present on your execution path:
   </p>
   <p>
   <blockquote>
    <table cellspacing="0">
     <tr>
      <td valign="top" nowrap=""><b>diet</b></td>
      <td>&nbsp;</td>
      <td>used to create <i>vq-static</i>, a small statically linked version of vq
      <br />(see <a href="http://www.fefe.de/dietlibc/">www.fefe.de</a>,
      by Felix von Leitner)
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>re2c</b></td>
      <td>&nbsp;</td>
      <td>used to create <i>xpar.h</i> from <i>xpar.re2c</i>
      <br />(see <a href="http://www.re2c.org/">www.re2c.org</a>,
      various maintainers at SourceForge)
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>sdx</b></td>
      <td>&nbsp;</td>
      <td>the Starkit Developer eXtension, used to create wrapped Starkits
      <br />(see <a href="http://www.equi4.com/sdx.html">www.equi4.com</a>)
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>tclkit</b></td>
      <td>&nbsp;</td>
      <td>self-contained Tcl/Tk distribution, including Metakit database
	    <br />(see <a href="http://www.equi4.com/tclkit.html">www.equi4.com</a>)
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>upx</b></td>
      <td>&nbsp;</td>
      <td>used to create <i>vq-tiny</i>, a compressed version of <i>vq-fast</i>
	    <br />(see <a href="http://upx.sourceforge.net/">SourceForge</a>,
	    by Markus Oberhumer)
      </td>
     </tr>
    </table>
   </blockquote>
   </p>
   <p>The <i>diet</i> and <i>upx</i> commands can be replaced by dummy shell scripts,
  they are not essential for any of the other build steps.
   </p>
   <p>There are several other build targets:
   </p>
   <p>
   <blockquote>
    <table cellspacing="0">
     <tr>
      <td valign="top" nowrap=""><b>make all</b></td>
      <td>&nbsp;</td>
      <td>build several vq/vqx variants and update files in <i>noarch</i>
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>make ratcl</b></td>
      <td>&nbsp;</td>
      <td>packaged version of Thrive, ready to use from Tcl scripts
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>make regen</b></td>
      <td>&nbsp;</td>
      <td>regenerate the entire <i>noarch</i> directory from scratch
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>make thrive</b></td>
      <td>&nbsp;</td>
      <td>build Tcl debug extension, used to run
		    the test suite during development
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>make thrive-lua</b></td>
      <td>&nbsp;</td>
      <td>set up a makefile-based area with Thrive for Lua
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>make thrive-py</b></td>
      <td>&nbsp;</td>
      <td>set up a distutils-based area with Thrive for Python
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>make thrive-rb</b></td>
      <td>&nbsp;</td>
      <td>set up an extconf-based area with Thrive for Ruby
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>make thrive-tcl</b></td>
      <td>&nbsp;</td>
      <td>set up a TEA3-based area with Thrive for Tcl
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>make vq</b></td>
      <td>&nbsp;</td>
      <td>standalone executable with embedded startup code, used by vqx
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>make vqx</b></td>
      <td>&nbsp;</td>
      <td>standalone utility, used for testing and for viewing datafiles
      </td>
     </tr>
    </table>
   </blockquote>
   </p>
  </blockquote>
  <h3>LANGUAGE BINDINGS</h3>
  <blockquote>
   <p>There are language bindings to Thrive for Lua, Python, Ruby, and Tcl.
  These are generated from the base sources and use templates from the
  <i>lang</i> directory to make them work in the <q>normal</q> way for each
  language:
   </p>
   <p>
   <blockquote>
    <table cellspacing="0">
     <tr>
      <td valign="top" nowrap=""><b>Lua</b></td>
      <td>&nbsp;</td>
      <td><tt>make thrive-lua; cd thrive-lua; make; etc...</tt>
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>Python &nbsp;</b></td>
      <td>&nbsp;</td>
      <td><tt>make thrive-py; cd thrive-py; python setup.py build; etc...</tt>
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>Ruby</b></td>
      <td>&nbsp;</td>
      <td><tt>make thrive-rb; cd thrive-rb; ruby extconf.rb; etc...</tt>
      </td>
     </tr>
     <tr>
      <td valign="top" nowrap=""><b>Tcl</b></td>
      <td>&nbsp;</td>
      <td><tt>make thrive-tcl; cd thrive-tcl; sh configure; etc...</tt>
      </td>
     </tr>
    </table>
   </blockquote>
   </p>
   <p>See the README files in the generated areas for more information.
   </p>
   <p>Note: the <q>ARCHSUFFIX</q> settings mentioned elsewhere are ignored here,
  these builds use whatever standard mechanism the respective language offers.
   </p>
  </blockquote>
  <h3>WINDOWS BUILDS</h3>
  <blockquote>
   <p>There is some support for Win32 builds and cross-compilation using <i>Mingw</i>.
   </p>
   <p>With Mingw's <i>msys</i> simply do <q><tt>sh configure; cd build; make</tt></q>.
  There will be some failures
  for <i>upx</i> and <i>diet</i> but it should be enough to build <i>vq</i> and <i>vqx</i>.
   </p>
   <p>See <a href="http://www.equi4.com/pub/xc">www.equi4.com</a> for packages which
  can install a Mac OS X or Linux hosted cross-compiler for Win32, respectively.
  The trick for cross-compilation is to set up
  <q><tt>export ARCHSUFFIX=.win32</tt></q> in the shell,
  which will affect some settings in the Vlerq makefile.
   </p>
   <p>To build the Tcl extension with this cross-compiler, use:
   </p>
   <p><tt>&nbsp; make thrive-tcl; cd thrive-tcl; sh configure --host=mingw32; make</tt>
   </p>
   <p>Note that <i>make thrive</i> will not work with the cross-compiler
  because it does not have the Tcl header files.
   </p>
  </blockquote>
  <h3>WEBSITE</h3>
  <blockquote>
   <p>See <a href="http://www.vlerq.org/">http://www.vlerq.org/</a>.</p>
  </blockquote>
 </body>
</html>