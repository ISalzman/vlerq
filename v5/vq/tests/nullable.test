#!/usr/bin/env tclkit
# %renumber<^\s*test >%

# nullable module tests

source [file join [file dir [info script]] initests.tcl]

test 0 {load package} {
    package require vq
} $version

test 1  {} { vq rflip {}        1 0 } {}
test 2  {} { vq rflip {}        1 1 } {1 2}
test 3  {} { vq rflip {}        1 2 } {1 3}
test 4  {} { vq rflip {1 3}     1 1 } {2 3}
test 5  {} { vq rflip {1 3}     1 2 } {}
test 6  {} { vq rflip {1 3}     3 2 } {1 5}
test 7  {} { vq rflip {1 3}     5 3 } {1 3 5 8}
test 8  {} { vq rflip {1 8}     3 2 } {1 3 5 8}
test 9  {} { vq rflip {5 8}     1 2 } {1 3 5 8}
test 10 {} { vq rflip {1 3 5 8} 3 1 } {1 4 5 8}
test 11 {} { vq rflip {1 3 5 8} 4 1 } {1 3 4 8}
test 12 {} { vq rflip {1 3 5 8} 3 2 } {1 8}
test 13 {} { vq rflip {1 3 5 8} 1 2 } {5 8}
test 14 {} { vq rflip {1 3 5 8} 5 3 } {1 3}
test 15 {} { vq rflip {1 3 5 8} 0 1 } {0 3 5 8}
test 16 {} { vq rflip {1 3 5 8} 8 1 } {1 3 5 9}
test 17 {} { vq rflip {1 3 5 8} 6 1 } {1 3 5 6 7 8}
test 18 {} { vq rflip {1 3 5 8} 9 0 } {1 3 5 8}
                
test 19 {} { vq rlocate {} 3} {-1 3}
test 20 {} { vq rlocate {1 2} 1} {0 0}
           
test 21 {} {
    set r ""
    for {set i 0} {$i < 10} {incr i} {
        lappend r $i: [join [vq rlocate {1 3 5 8} $i] .]
    }
    set r
} {0: -1.0 1: 0.0 2: 0.1 3: 1.1 4: 1.2 5: 2.2 6: 2.3 7: 2.4 8: 3.3 9: 3.4}

test 22 {} { vq rinsert {}        1 1 0 } {}
test 23 {} { vq rinsert {}        1 1 1 } {1 2}
test 24 {} { vq rinsert {}        1 2 0 } {}
test 25 {} { vq rinsert {}        1 2 1 } {1 3}
test 26 {} { vq rinsert {}        1 3 0 } {}
test 27 {} { vq rinsert {}        1 3 1 } {1 4}
                
test 28 {} { vq rinsert {1 3}     0 2 0 } {3 5}
test 29 {} { vq rinsert {1 3}     0 2 1 } {0 2 3 5}
test 30 {} { vq rinsert {1 3}     1 2 0 } {3 5}
test 31 {} { vq rinsert {1 3}     1 2 1 } {1 5}
test 32 {} { vq rinsert {1 3}     2 2 0 } {1 2 4 5}
test 33 {} { vq rinsert {1 3}     2 2 1 } {1 5}
test 34 {} { vq rinsert {1 3}     3 2 0 } {1 3}
test 35 {} { vq rinsert {1 3}     3 2 1 } {1 5}
test 36 {} { vq rinsert {1 3}     4 2 0 } {1 3}
test 37 {} { vq rinsert {1 3}     4 2 1 } {1 3 4 6}
                
test 38 {} { vq rinsert {1 3 5 6} 0 2 0 } {3 5 7 8}
test 39 {} { vq rinsert {1 3 5 6} 0 2 1 } {0 2 3 5 7 8}
test 40 {} { vq rinsert {1 3 5 6} 1 2 0 } {3 5 7 8}
test 41 {} { vq rinsert {1 3 5 6} 1 2 1 } {1 5 7 8}
test 42 {} { vq rinsert {1 3 5 6} 2 2 0 } {1 2 4 5 7 8}
test 43 {} { vq rinsert {1 3 5 6} 2 2 1 } {1 5 7 8}
test 44 {} { vq rinsert {1 3 5 6} 3 2 0 } {1 3 7 8}
test 45 {} { vq rinsert {1 3 5 6} 3 2 1 } {1 5 7 8}
test 46 {} { vq rinsert {1 3 5 6} 4 2 0 } {1 3 7 8}
test 47 {} { vq rinsert {1 3 5 6} 4 2 1 } {1 3 4 6 7 8}
test 48 {} { vq rinsert {1 3 5 6} 5 2 0 } {1 3 7 8}
test 49 {} { vq rinsert {1 3 5 6} 5 2 1 } {1 3 5 8}
test 50 {} { vq rinsert {1 3 5 6} 6 2 0 } {1 3 5 6}
test 51 {} { vq rinsert {1 3 5 6} 6 2 1 } {1 3 5 8}
test 52 {} { vq rinsert {1 3 5 6} 7 2 0 } {1 3 5 6}
test 53 {} { vq rinsert {1 3 5 6} 7 2 1 } {1 3 5 6 7 9}
                
test 54 {} { vq rdelete {}        1 2 } {}
test 55 {} { vq rdelete {1 3}     0 1 } {0 2}
test 56 {} { vq rdelete {1 3}     1 1 } {1 2}
test 57 {} { vq rdelete {1 3}     2 1 } {1 2}
test 58 {} { vq rdelete {1 3}     3 1 } {1 3}
                
test 59 {} { vq rdelete {1 3 5 6} 0 1 } {0 2 4 5}
test 60 {} { vq rdelete {1 3 5 6} 1 1 } {1 2 4 5}
test 61 {} { vq rdelete {1 3 5 6} 2 1 } {1 2 4 5}
test 62 {} { vq rdelete {1 3 5 6} 3 1 } {1 3 4 5}
test 63 {} { vq rdelete {1 3 5 6} 4 1 } {1 3 4 5}
test 64 {} { vq rdelete {1 3 5 6} 5 1 } {1 3}
test 65 {} { vq rdelete {1 3 5 6} 6 1 } {1 3 5 6}
                
test 66 {} { vq rdelete {1 3 5 6} 0 2 } {0 1 3 4}
test 67 {} { vq rdelete {1 3 5 6} 1 2 } {3 4}
test 68 {} { vq rdelete {1 3 5 6} 2 2 } {1 2 3 4}
test 69 {} { vq rdelete {1 3 5 6} 3 2 } {1 4}
test 70 {} { vq rdelete {1 3 5 6} 4 2 } {1 3}
test 71 {} { vq rdelete {1 3 5 6} 5 2 } {1 3}
                
test 72 {} { vq rdelete {1 3 5 6} 0 3 } {2 3}
test 73 {} { vq rdelete {1 3 5 6} 1 3 } {2 3}
test 74 {} { vq rdelete {1 3 5 6} 2 3 } {1 3}
test 75 {} { vq rdelete {1 3 5 6} 3 3 } {1 3}
test 76 {} { vq rdelete {1 3 5 6} 4 3 } {1 3}
test 77 {} { vq rdelete {1 3 5 6} 5 3 } {1 3}
                
test 78 {} { vq rdelete {1 3 5 6} 0 4 } {1 2}
test 79 {} { vq rdelete {1 3 5 6} 1 4 } {1 2}
test 80 {} { vq rdelete {1 3 5 6} 2 4 } {1 2}
test 81 {} { vq rdelete {1 3 5 6} 3 4 } {1 3}
test 82 {} { vq rdelete {1 3 5 6} 4 4 } {1 3}
test 83 {} { vq rdelete {1 3 5 6} 5 4 } {1 3}
                
test 84 {} { vq rdelete {1 3 5 6} 0 5 } {0 1}
test 85 {} { vq rdelete {1 3 5 6} 1 5 } {}
test 86 {} { vq rdelete {1 3 5 6} 2 5 } {1 2}
test 87 {} { vq rdelete {1 3 5 6} 3 5 } {1 3}
test 88 {} { vq rdelete {1 3 5 6} 4 5 } {1 3}
test 89 {} { vq rdelete {1 3 5 6} 5 5 } {1 3}
                
test 90 {} { vq rdelete {1 3 5 6} 0 6 } {}
test 91 {} { vq rdelete {1 3 5 6} 1 6 } {}
test 92 {} { vq rdelete {1 3 5 6} 2 6 } {1 2}
test 93 {} { vq rdelete {1 3 5 6} 3 6 } {1 3}
test 94 {} { vq rdelete {1 3 5 6} 4 6 } {1 3}
test 95 {} { vq rdelete {1 3 5 6} 5 6 } {1 3}
test 96 {} { vq rdelete {1 3 5 6} 6 6 } {1 3 5 6}
                
test 97  {} { vq rdelete {0 1 3 5 7 8} 0 2 } {1 3 5 6}
test 98  {} { vq rdelete {0 1 3 5 7 8} 1 2 } {0 3 5 6}
test 99  {} { vq rdelete {0 1 3 5 7 8} 2 2 } {0 1 2 3 5 6}
test 100 {} { vq rdelete {0 1 3 5 7 8} 3 2 } {0 1 5 6}
test 101 {} { vq rdelete {0 1 3 5 7 8} 2 4 } {0 1 3 4}
test 102 {} { vq rdelete {0 1 3 5 7 8} 1 6 } {0 2}
                
test 103 {} { vq rdelete {0 2 3 5 6 8} 0 2 } {1 3 4 6}
test 104 {} { vq rdelete {0 2 3 5 6 8} 1 2 } {0 3 4 6}
test 105 {} { vq rdelete {0 2 3 5 6 8} 2 2 } {0 3 4 6}
test 106 {} { vq rdelete {0 2 3 5 6 8} 3 2 } {0 2 4 6}
test 107 {} { vq rdelete {0 2 3 5 6 8} 2 4 } {0 4}
test 108 {} { vq rdelete {0 2 3 5 6 8} 1 6 } {0 2}
                
test 109 {} { vq rinsert {}    2 5 1 } {2 7}
test 110 {} { vq rdelete {2 7} 3 3   } {2 4}

::tcltest::cleanupTests
