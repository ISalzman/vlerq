#!/usr/bin/env tclkit
# %renumber<^\s*test >%

source [file join [file dir [info script]] initests.tcl]

test 0 {} {
    package require ratcl
} $version

puts [lvq "vo" dump [lvq "vis" view 0 {A:I,B[C:F,D],E:B}]]
puts [lvq "v" dump {A,B[C:I],D:s}]
#puts [lvq "v" dump {meta {A,B[C:I],D:s}}]

luas {
    db = vops.open('../data/simple.db')[0]
    db.v:p()
}

set v [lvq "vs" open ../data/alltypes.db]

luas {
    a = {}
    function a:f (...)
        print('self', self)
        print('args', ...)
    end
    print(a)
    a:f(1,2,3)
    a:f{x=1,y=2}
}

::tcltest::cleanupTests
